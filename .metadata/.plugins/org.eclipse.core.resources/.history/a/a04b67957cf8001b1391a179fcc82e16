package app.testautomation.API;

import org.json.JSONArray;
import org.json.JSONObject;
import org.testng.Assert;
import org.testng.Reporter;
import org.testng.annotations.Test;

import app.testautomation.api.lib.APIUtil;
import io.restassured.RestAssured;
import io.restassured.response.Response;
import io.restassured.specification.RequestSpecification;

public class CoronaVaccineAvailabilityCheck {
	
	String baseURI = "https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/findByPin";
	String pinCode = "560100";
	String date = "10-08-2021";
	APIUtil util = new APIUtil();
 
	@Test
  public void checkVaccineBasedOnZipCode() {
		
	    
		//Step1 : Get Vaccination availability details based on ZipCode and Date
		String response = util.executeGetCoronaVaccine(baseURI, pinCode, date);
		if(response==null || response.equals(""))
		{
			Assert.fail();
		}
		else
		{
			Reporter.log("The get request got executed successfully to find the Corona vaccine availability for Zipcode :" + pinCode + "and for the Date:" + date);
		}
		
		    
		   
  }
}
